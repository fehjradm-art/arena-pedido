<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARENA PEDIDOS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:Arial,sans-serif;background:#0a0a0f;color:#fff;min-height:100vh;padding-top:60px}
        .navbar{position:fixed;top:0;left:0;right:0;background:#1a1a2e;padding:15px;display:flex;justify-content:space-between;align-items:center;z-index:1000}
        .brand{font-size:20px;font-weight:bold;color:#ff6b00;cursor:pointer}
        .nav-btn{background:#ff6b00;color:#fff;border:none;padding:10px 15px;margin-left:5px;border-radius:5px;cursor:pointer}
        .page{display:none;padding:20px;max-width:1000px;margin:0 auto}
        .page.active{display:block}
        h1{color:#ff6b00;text-align:center;margin-bottom:20px}
        .form-card{background:#1a1a2e;border-radius:10px;padding:20px;margin-bottom:20px}
        .form-group{margin-bottom:15px}
        label{display:block;margin-bottom:5px;color:#aaa}
        input,select{width:100%;padding:12px;background:#16213e;border:1px solid #333;color:#fff;border-radius:5px}
        .upload-box{border:2px dashed #ff6b00;border-radius:10px;padding:30px;text-align:center;cursor:pointer;margin-bottom:15px}
        .preview-box{position:relative;margin-top:15px;display:none}
        .preview-box img{width:100%;height:200px;object-fit:cover;border-radius:10px;border:3px solid #ff6b00}
        .remove-btn{position:absolute;top:10px;right:10px;width:30px;height:30px;background:#ff4444;border:none;border-radius:50%;color:#fff;cursor:pointer}
        .submit-btn{width:100%;padding:15px;background:#ff6b00;border:none;border-radius:5px;color:#fff;font-size:16px;cursor:pointer}
        .stats{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin:20px 0}
        .stat-box{background:#1a1a2e;padding:20px;text-align:center;border-radius:10px}
        .stat-box .num{font-size:32px;color:#ff6b00;font-weight:bold}
        .movies-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;margin-top:20px}
        .movie-card{background:#1a1a2e;border-radius:10px;overflow:hidden}
        .movie-card img{width:100%;height:300px;object-fit:cover}
        .movie-info{padding:15px}
        .badge{display:inline-block;padding:5px 10px;border-radius:20px;font-size:12px;margin-top:5px}
        .badge.pending{background:#f59e0b;color:#000}
        .badge.watching{background:#3b82f6;color:#fff}
        .badge.completed{background:#10b981;color:#fff}
        .badge.rejected{background:#ef4444;color:#fff}
        table{width:100%;margin-top:20px}
        th,td{padding:10px;text-align:left;border-bottom:1px solid #333}
        .login-card{max-width:300px;margin:50px auto;background:#1a1a2e;padding:30px;border-radius:10px;text-align:center}
        .login-card input{width:100%;padding:15px;margin:10px 0;background:#16213e;border:1px solid #333;color:#fff;border-radius:5px}
        .login-card button{width:100%;padding:15px;background:#ff6b00;border:none;border-radius:5px;color:#fff;cursor:pointer}
        .admin-item{background:#1a1a2e;padding:15px;margin-bottom:15px;border-radius:10px;display:flex;gap:15px}
        .admin-item img{width:80px;height:120px;object-fit:cover;border-radius:5px}
        .admin-actions{margin-top:10px;display:flex;gap:5px;flex-wrap:wrap}
        .status-btn{padding:5px 10px;border-radius:5px;border:1px solid #666;background:transparent;color:#fff;cursor:pointer;font-size:12px}
        .status-btn.delete{background:#ff4444;border-color:#ff4444;margin-left:auto}
        .tabs{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}
        .tab{padding:8px 15px;background:#333;border:none;border-radius:20px;color:#fff;cursor:pointer}
        .tab.active{background:#ff6b00}
        .toast{position:fixed;bottom:20px;right:20px;background:#10b981;padding:15px 20px;border-radius:10px;display:none;z-index:9999}
        @media(max-width:768px){.stats{grid-template-columns:1fr}.admin-item{flex-direction:column}}
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="brand" onclick="show('home')">üé¨ ARENA PEDIDOS</div>
        <div>
            <button class="nav-btn" onclick="show('home')">In√≠cio</button>
            <button class="nav-btn" onclick="show('requests')">Pedidos</button>
            <button class="nav-btn" onclick="show('admin')">Admin</button>
        </div>
    </nav>
    <div class="toast" id="toast">‚úÖ Salvo!</div>
    <div id="home" class="page active">
        <div class="container">
            <h1>Fazer Pedido</h1>
            <div class="form-card">
                <form onsubmit="return saveRequest()">
                    <div class="form-group">
                        <label>Nome do Filme *</label>
                        <input type="text" id="f-name" required>
                    </div>
                    <div class="form-group">
                        <label>Ano</label>
                        <input type="number" id="f-year">
                    </div>
                    <div class="form-group">
                        <label>G√™nero *</label>
                        <select id="f-genre" required>
                            <option value="">Selecione...</option>
                            <option>A√ß√£o</option>
                            <option>Aventura</option>
                            <option>Com√©dia</option>
                            <option>Drama</option>
                            <option>Fic√ß√£o Cient√≠fica</option>
                            <option>Terror</option>
                            <option>Romance</option>
                            <option>Anima√ß√£o</option>
                            <option>Document√°rio</option>
                            <option>Suspense</option>
                            <option>Fantasia</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Capa do Filme *</label>
                        <input type="file" id="f-file" accept="image/*" style="display:none" onchange="loadImg(this)">
                        <input type="url" id="f-url" placeholder="Ou cole o link da imagem" style="margin-bottom:10px">
                        <div class="upload-box" onclick="document.getElementById('f-file').click()">üì∑ Clique para selecionar imagem</div>
                        <div class="preview-box" id="preview-box">
                            <img id="preview-img" src="">
                            <button type="button" class="remove-btn" onclick="clearImg()">√ó</button>
                        </div>
                        <input type="hidden" id="f-poster">
                    </div>
                    <button type="submit" class="submit-btn">üì® ENVIAR PEDIDO</button>
                </form>
            </div>
            <div class="stats">
                <div class="stat-box"><div class="num" id="s-total">0</div><div>Total</div></div>
                <div class="stat-box"><div class="num" id="s-done">0</div><div>Dispon√≠veis</div></div>
                <div class="stat-box"><div class="num" id="s-wait">0</div><div>Pendentes</div></div>
            </div>
            <h2 style="color:#ff6b00;margin:20px 0">üî• Recentes</h2>
            <div class="movies-grid" id="recent-list"></div>
        </div>
    </div>
    <div id="requests" class="page">
        <h1>Meus Pedidos</h1>
        <table>
            <thead><tr><th>Capa</th><th>Filme</th><th>G√™nero</th><th>Status</th><th>Data</th></tr></thead>
            <tbody id="req-list"></tbody>
        </table>
        <p id="req-empty" style="text-align:center;padding:40px;color:#666;display:none">Nenhum pedido üò¢</p>
    </div>
    <div id="admin" class="page">
        <div id="adm-login" class="login-card">
            <h2>üîê Admin</h2>
            <input type="password" id="adm-pass" placeholder="Senha">
            <button onclick="doLogin()">ENTRAR</button>
            <p id="login-err" style="color:#ff4444;display:none">Senha errada!</p>
        </div>
        <div id="adm-panel" style="display:none">
            <h1>Painel de Controle</h1>
            <div class="stats" style="grid-template-columns:repeat(4,1fr)">
                <div class="stat-box"><div class="num" id="a-total">0</div><div>Total</div></div>
                <div class="stat-box"><div class="num" id="a-pend">0</div><div>Pendentes</div></div>
                <div class="stat-box"><div class="num" id="a-prog">0</div><div>Progresso</div></div>
                <div class="stat-box"><div class="num" id="a-done">0</div><div>Prontos</div></div>
            </div>
            <div class="tabs">
                <button class="tab active" onclick="setTab('all',this)">Todos</button>
                <button class="tab" onclick="setTab('pending',this)">Pendentes</button>
                <button class="tab" onclick="setTab('watching',this)">Progresso</button>
                <button class="tab" onclick="setTab('completed',this)">Prontos</button>
                <button class="tab" onclick="setTab('rejected',this)">Rejeitados</button>
            </div>
            <div id="adm-list"></div>
        </div>
    </div>
    <script>
        let pedidos=JSON.parse(localStorage.getItem('arena_v5'))||[{id:1,nome:"O Poderoso Chef√£o",ano:"1972",genero:"Drama",status:"completed",poster:"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg",data:"17/02/2024"},{id:2,nome:"Interestelar",ano:"2014",genero:"Fic√ß√£o Cient√≠fica",status:"watching",poster:"https://m.media-amazon.com/images/M/MV5BZjdkOTU3MDktN2IxOS00OGEyLWFmMjktY2FiMmZkNWIyODZiXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_.jpg",data:"17/02/2024"},{id:3,nome:"Parasita",ano:"2019",genero:"Suspense",status:"pending",poster:"https://m.media-amazon.com/images/M/MV5BYWZjMjk3ZTItODQ2ZC00NTY5LWE0ZDYtZTI3Mjc2N5Q5NjBmXkEyXkFqcGdeQXVyODk4OTc3MTY@._V1_.jpg",data:"16/02/2024"}];
        let logado=false;
        let filtro='all';
        window.onload=function(){save();updateAll()};
        function save(){localStorage.setItem('arena_v5',JSON.stringify(pedidos))}
        function show(p){document.querySelectorAll('.page').forEach(x=>x.classList.remove('active'));document.getElementById(p).classList.add('active');if(p=='requests')showReq();if(p=='admin'&&logado)showAdmin()}
        function loadImg(i){let f=i.files[0];if(!f)return;if(f.size>5*1024*1024){toast('Arquivo grande! Max 5MB');return}let r=new FileReader();r.onload=function(e){document.getElementById('f-poster').value=e.target.result;document.getElementById('preview-img').src=e.target.result;document.getElementById('preview-box').style.display='block';document.querySelector('.upload-box').style.display='none';toast('Imagem ok!')};r.readAsDataURL(f)}
        document.getElementById('f-url').addEventListener('change',function(){let u=this.value.trim();if(u&&u.startsWith('http')){document.getElementById('f-poster').value=u;document.getElementById('preview-img').src=u;document.getElementById('preview-box').style.display='block';document.querySelector('.upload-box').style.display='none'}});
        function clearImg(){document.getElementById('f-poster').value='';document.getElementById('preview-box').style.display='none';document.querySelector('.upload-box').style.display='block';document.getElementById('f-file').value='';document.getElementById('f-url').value=''}
        function saveRequest(){let p=document.getElementById('f-poster').value;if(!p){toast('Adicione capa!');return false}pedidos.unshift({id:Date.now(),nome:document.getElementById('f-name').value,ano:document.getElementById('f-year').value,genero:document.getElementById('f-genero').value,poster:p,status:'pending',data:new Date().toLocaleDateString('pt-BR')});save();document.querySelector('form').reset();clearImg();toast('Pedido enviado!');updateAll();return false}
        function updateAll(){document.getElementById('s-total').textContent=pedidos.length;document.getElementById('s-done').textContent=pedidos.filter(x=>x.status=='completed').length;document.getElementById('s-wait').textContent=pedidos.filter(x=>x.status=='pending').length;let h='';pedidos.slice(0,6).forEach(p=>{h+=`<div class="movie-card"><img src="${p.poster}" onerror="this.src='https://via.placeholder.com/300x400/333/fff?text=?'"><div class="movie-info"><strong>${p.nome}</strong><br><span style="color:#888;font-size:12px">${p.genero}</span><br>${badge(p.status)}</div></div>`});document.getElementById('recent-list').innerHTML=h||'<p style="color:#666;text-align:center">Nenhum pedido</p>'}
        function showReq(){let b=document.getElementById('req-list'),e=document.getElementById('req-empty');if(!pedidos.length){b.innerHTML='';e.style.display='block';return}e.style.display='none';let h='';pedidos.forEach(p=>{h+=`<tr><td><img src="${p.poster}" style="width:50px;height:75px;object-fit:cover;border-radius:5px" onerror="this.src='https://via.placeholder.com/50x75/333/fff?text=?'"></td><td>${p.nome}${p.ano?'<br><small style="color:#888">'+p.ano+'</small>':''}</td><td style="color:#888">${p.genero}</td><td>${badge(p.status)}</td><td style="color:#888;font-size:12px">${p.data}</td></tr>`});b.innerHTML=h}
        function badge(s){let b={pending:'<span class="badge pending">‚è≥ Pendente</span>',watching:'<span class="badge watching">‚ñ∂Ô∏è An√°lise</span>',completed:'<span class="badge completed">‚úÖ OK</span>',rejected:'<span class="badge rejected">‚ùå N√£o</span>'};return b[s]||s}
        function doLogin(){if(document.getElementById('adm-pass').value=='admin123'){logado=true;document.getElementById('adm-login').style.display='none';document.getElementById('adm-panel').style.display='block';showAdmin();toast('Bem-vindo Admin!')}else{document.getElementById('login-err').style.display='block'}}
        function showAdmin(){document.getElementById('a-total').textContent=pedidos.length;document.getElementById('a-pend').textContent=pedidos.filter(x=>x.status=='pending').length;document.getElementById('a-prog').textContent=pedidos.filter(x=>x.status=='watching').length;document.getElementById('a-done').textContent=pedidos.filter(x=>x.status=='completed').length;let f=filtro=='all'?pedidos:pedidos.filter(x=>x.status==filtro);let h='';f.forEach(p=>{h+=`<div class="admin-item"><img src="${p.poster}" onerror="this.src='https://via.placeholder.com/80x120/333/fff?text=?'"><div style="flex:1"><strong>${p.nome}</strong><p style="color:#888;font-size:12px">${p.ano||'Sem ano'} ‚Ä¢ ${p.genero} ‚Ä¢ ${p.data}</p>${badge(p.status)}<div class="admin-actions"><button class="status-btn" onclick="setStat(${p.id},'pending')" style="border-color:#f59e0b;color:#f59e0b">Pendente</button><button class="status-btn" onclick="setStat(${p.id},'watching')" style="border-color:#3b82f6;color:#3b82f6">Progresso</button><button class="status-btn" onclick="setStat(${p.id},'completed')" style="border-color:#10b981;color:#10b981">OK</button><button class="status-btn" onclick="setStat(${p.id},'rejected')" style="border-color:#ef4444;color:#ef4444">N√£o</button><button class="status-btn delete" onclick="del(${p.id})">üóëÔ∏è Excluir</button></div></div></div>`});document.getElementById('adm-list').innerHTML=h||'<p style="color:#666;text-align:center;padding:40px">Nada aqui</p>'}
        function setTab(t,b){filtro=t;document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));b.classList.add('active');showAdmin()}
        function setStat(id,st){let p=pedidos.find(x=>x.id==id);if(p){p.status=st;save();updateAll();showAdmin();toast('Status ok!')}}
        function del(id){if(confirm('Excluir?')){pedidos=pedidos.filter(x=>x.id!=id);save();updateAll();showAdmin();toast('Exclu√≠do!')}}
        function toast(m){let t=document.getElementById('toast');t.textContent='‚úÖ '+m;t.style.display='block';setTimeout(()=>t.style.display='none',3000)}
    </script>
</body>
</html>
