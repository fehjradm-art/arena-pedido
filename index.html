<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARENA PEDIDOS</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: Arial, sans-serif; 
            background: #0a0a0f; 
            color: white; 
            padding-top: 60px;
        }
        nav { 
            position: fixed; 
            top: 0; 
            width: 100%; 
            background: #1a1a2e; 
            padding: 15px; 
            display: flex; 
            justify-content: space-between;
            z-index: 1000;
        }
        .logo { font-size: 20px; font-weight: bold; color: #ff6b00; cursor: pointer; }
        .nav-btn { 
            background: #ff6b00; 
            color: white; 
            border: none; 
            padding: 8px 15px; 
            margin-left: 5px;
            border-radius: 5px; 
            cursor: pointer;
        }
        .page { display: none; padding: 20px; max-width: 800px; margin: 0 auto; }
        .page.active { display: block; }
        h1 { color: #ff6b00; margin-bottom: 20px; text-align: center; }
        
        /* Formul√°rio */
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; color: #aaa; }
        input, select { 
            width: 100%; 
            padding: 12px; 
            background: #16213e; 
            border: 1px solid #333; 
            color: white;
            border-radius: 5px;
        }
        .upload-box { 
            border: 2px dashed #ff6b00; 
            padding: 30px; 
            text-align: center; 
            cursor: pointer;
            margin-bottom: 15px;
        }
        .preview { max-width: 100%; margin-top: 10px; display: none; }
        .submit-btn { 
            width: 100%; 
            padding: 15px; 
            background: #ff6b00; 
            color: white; 
            border: none;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
        }
        
        /* Cards */
        .movie-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-top: 20px; }
        .movie-card { background: #1a1a2e; border-radius: 10px; overflow: hidden; }
        .movie-card img { width: 100%; height: 300px; object-fit: cover; }
        .movie-info { padding: 10px; }
        .badge { 
            display: inline-block; 
            padding: 5px 10px; 
            border-radius: 20px; 
            font-size: 12px;
            margin-top: 5px;
        }
        .pending { background: #f59e0b; }
        .watching { background: #3b82f6; }
        .completed { background: #10b981; }
        .rejected { background: #ef4444; }
        
        /* Tabela */
        table { width: 100%; margin-top: 20px; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #333; }
        th { color: #aaa; }
        
        /* Admin */
        .login-box { 
            max-width: 300px; 
            margin: 50px auto; 
            background: #1a1a2e; 
            padding: 30px; 
            border-radius: 10px;
            text-align: center;
        }
        .admin-card { 
            background: #1a1a2e; 
            padding: 15px; 
            margin-bottom: 15px; 
            border-radius: 10px;
            display: flex;
            gap: 15px;
        }
        .admin-card img { width: 80px; height: 120px; object-fit: cover; border-radius: 5px; }
        .admin-actions { margin-top: 10px; }
        .status-btn { 
            padding: 5px 10px; 
            margin-right: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }
        .delete-btn { background: #ff4444; color: white; float: right; }
        
        .stats { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 10px; 
            margin-bottom: 20px;
        }
        .stat-box { 
            background: #1a1a2e; 
            padding: 15px; 
            text-align: center; 
            border-radius: 10px;
        }
        .stat-num { font-size: 24px; font-weight: bold; color: #ff6b00; }
        
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #10b981;
            padding: 15px 20px;
            border-radius: 5px;
            display: none;
        }
    </style>
</head>
<body>

    <nav>
        <div class="logo" onclick="show('home')">üé¨ ARENA PEDIDOS</div>
        <div>
            <button class="nav-btn" onclick="show('home')">In√≠cio</button>
            <button class="nav-btn" onclick="show('requests')">Pedidos</button>
            <button class="nav-btn" onclick="show('admin')">Admin</button>
        </div>
    </nav>

    <!-- HOME -->
    <div id="home" class="page active">
        <h1>Fazer Pedido</h1>
        <form onsubmit="return saveRequest()">
            <div class="form-group">
                <label>Nome do Filme *</label>
                <input type="text" id="f-name" required>
            </div>
            <div class="form-group">
                <label>Ano</label>
                <input type="number" id="f-year">
            </div>
            <div class="form-group">
                <label>G√™nero *</label>
                <select id="f-genre" required>
                    <option value="">Selecione...</option>
                    <option>A√ß√£o</option>
                    <option>Aventura</option>
                    <option>Com√©dia</option>
                    <option>Drama</option>
                    <option>Fic√ß√£o Cient√≠fica</option>
                    <option>Terror</option>
                    <option>Romance</option>
                    <option>Anima√ß√£o</option>
                    <option>Document√°rio</option>
                    <option>Suspense</option>
                    <option>Fantasia</option>
                </select>
            </div>
            <div class="form-group">
                <label>Capa do Filme *</label>
                <input type="file" id="f-file" accept="image/*" onchange="loadImage(this)" style="display: none;">
                <div class="upload-box" onclick="document.getElementById('f-file').click()">
                    üì∑ Clique para selecionar imagem
                </div>
                <img id="f-preview" class="preview">
                <input type="hidden" id="f-poster">
            </div>
            <button type="submit" class="submit-btn">üì® ENVIAR PEDIDO</button>
        </form>

        <h2 style="margin-top: 40px;">üìä Estat√≠sticas</h2>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 20px;">
            <div class="stat-box">
                <div class="stat-num" id="s-total">0</div>
                <div style="font-size: 12px; color: #aaa;">Total</div>
            </div>
            <div class="stat-box">
                <div class="stat-num" id="s-done">0</div>
                <div style="font-size: 12px; color: #aaa;">Dispon√≠veis</div>
            </div>
            <div class="stat-box">
                <div class="stat-num" id="s-wait">0</div>
                <div style="font-size: 12px; color: #aaa;">Pendentes</div>
            </div>
        </div>

        <h2 style="margin-top: 40px;">üî• Recentes</h2>
        <div class="movie-grid" id="recent-box"></div>
    </div>

    <!-- PEDIDOS -->
    <div id="requests" class="page">
        <h1>Meus Pedidos</h1>
        <table>
            <thead>
                <tr>
                    <th>Capa</th>
                    <th>Filme</th>
                    <th>G√™nero</th>
                    <th>Status</th>
                    <th>Data</th>
                </tr>
            </thead>
            <tbody id="req-list"></tbody>
        </table>
        <p id="req-empty" style="text-align: center; padding: 40px; color: #666; display: none;">
            Nenhum pedido ainda üò¢
        </p>
    </div>

    <!-- ADMIN -->
    <div id="admin" class="page">
        <div id="adm-login" class="login-box">
            <h2>üîê Admin</h2>
            <input type="password" id="adm-pass" placeholder="Senha" style="margin: 15px 0;">
            <button onclick="doLogin()" style="width: 100%; padding: 12px; background: #ff6b00; border: none; color: white; border-radius: 5px; cursor: pointer;">ENTRAR</button>
            <p id="adm-error" style="color: #ff4444; margin-top: 10px; display: none;">Senha errada!</p>
        </div>

        <div id="adm-panel" style="display: none;">
            <h1>Painel de Controle</h1>
            
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-num" id="a-total">0</div>
                    <div style="font-size: 12px;">Total</div>
                </div>
                <div class="stat-box">
                    <div class="stat-num" id="a-pend">0</div>
                    <div style="font-size: 12px;">Pendentes</div>
                </div>
                <div class="stat-box">
                    <div class="stat-num" id="a-prog">0</div>
                    <div style="font-size: 12px;">Em Progresso</div>
                </div>
                <div class="stat-box">
                    <div class="stat-num" id="a-done">0</div>
                    <div style="font-size: 12px;">Completados</div>
                </div>
            </div>

            <div style="margin-bottom: 20px;">
                <button onclick="filter('all')" style="padding: 8px 15px; margin-right: 5px; background: #ff6b00; border: none; color: white; border-radius: 5px; cursor: pointer;">Todos</button>
                <button onclick="filter('pending')" style="padding: 8px 15px; margin-right: 5px; background: #333; border: none; color: white; border-radius: 5px; cursor: pointer;">Pendentes</button>
                <button onclick="filter('watching')" style="padding: 8px 15px; margin-right: 5px; background: #333; border: none; color: white; border-radius: 5px; cursor: pointer;">Em Progresso</button>
                <button onclick="filter('completed')" style="padding: 8px 15px; margin-right: 5px; background: #333; border: none; color: white; border-radius: 5px; cursor: pointer;">Completados</button>
                <button onclick="filter('rejected')" style="padding: 8px 15px; background: #333; border: none; color: white; border-radius: 5px; cursor: pointer;">Rejeitados</button>
            </div>

            <div id="adm-list"></div>
        </div>
    </div>

    <div class="toast" id="toast">‚úÖ Salvo!</div>

    <script>
        // DADOS
        let pedidos = JSON.parse(localStorage.getItem('arena_v3')) || [
            {id: 1, name: "O Poderoso Chef√£o", year: "1972", genre: "Drama", status: "completed", poster: "https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg", date: "17/02/2026"},
            {id: 2, name: "Interestelar", year: "2014", genre: "Fic√ß√£o Cient√≠fica", status: "watching", poster: "https://m.media-amazon.com/images/M/MV5BZjdkOTU3MDktN2IxOS00OGEyLWFmMjktY2FiMmZkNWIyODZiXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_.jpg", date: "17/02/2026"},
            {id: 3, name: "Parasita", year: "2019", genre: "Suspense", status: "pending", poster: "https://m.media-amazon.com/images/M/MV5BYWZjMjk3ZTItODQ2ZC00NTY5LWE0ZDYtZTI3Mjc2N5Q5NjBmXkEyXkFqcGdeQXVyODk4OTc3MTY@._V1_.jpg", date: "16/02/2026"}
        ];
        let logado = false;
        let filtroAtual = 'all';

        // INICIO
        window.onload = function() {
            salvar();
            atualizar();
        };

        function salvar() {
            localStorage.setItem('arena_v3', JSON.stringify(pedidos));
        }

        // NAVEGA√á√ÉO
        function show(pagina) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pagina).classList.add('active');
            
            if (pagina === 'requests') mostrarPedidos();
            if (pagina === 'admin' && logado) mostrarAdmin();
        }

        // FORMUL√ÅRIO
        function loadImage(input) {
            let file = input.files[0];
            if (!file) return;
            
            let reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('f-poster').value = e.target.result;
                document.getElementById('f-preview').src = e.target.result;
                document.getElementById('f-preview').style.display = 'block';
                document.querySelector('.upload-box').style.display = 'none';
            };
            reader.readAsDataURL(file);
        }

        function saveRequest() {
            let poster = document.getElementById('f-poster').value;
            if (!poster) {
                alert('Adicione uma capa!');
                return false;
            }

            pedidos.unshift({
                id: Date.now(),
                name: document.getElementById('f-name').value,
                year: document.getElementById('f-year').value,
                genre: document.getElementById('f-genre').value,
                poster: poster,
                status: 'pending',
                date: new Date().toLocaleDateString('pt-BR')
            });

            salvar();
            
            // Limpar
            document.getElementById('f-name').value = '';
            document.getElementById('f-year').value = '';
            document.getElementById('f-genre').value = '';
            document.getElementById('f-poster').value = '';
            document.getElementById('f-preview').style.display = 'none';
            document.querySelector('.upload-box').style.display = 'block';
            document.getElementById('f-file').value = '';

            mostrarToast('Pedido enviado!');
            atualizar();
            return false;
        }

        // ATUALIZAR
        function atualizar() {
            // Stats
            document.getElementById('s-total').textContent = pedidos.length;
            document.getElementById('s-done').textContent = pedidos.filter(p => p.status === 'completed').length;
            document.getElementById('s-wait').textContent = pedidos.filter(p => p.status === 'pending').length;

            // Recentes
            let html = '';
            pedidos.slice(0, 6).forEach(p => {
                html += `
                    <div class="movie-card">
                        <img src="${p.poster}" onerror="this.src='https://via.placeholder.com/200x300/333/fff?text=?'">
                        <div class="movie-info">
                            <strong>${p.name}</strong><br>
                            <span style="color: #aaa; font-size: 12px;">${p.genre}</span><br>
                            ${getBadge(p.status)}
                        </div>
                    </div>
                `;
            });
            document.getElementById('recent-box').innerHTML = html || '<p style="color: #666;">Nenhum pedido</p>';
        }

        function mostrarPedidos() {
            let tbody = document.getElementById('req-list');
            let empty = document.getElementById('req-empty');
            
            if (pedidos.length === 0) {
                tbody.innerHTML = '';
                empty.style.display = 'block';
                return;
            }
            
            empty.style.display = 'none';
            let html = '';
            pedidos.forEach(p => {
                html += `
                    <tr>
                        <td><img src="${p.poster}" style="width: 50px; height: 75px; object-fit: cover;" onerror="this.src='https://via.placeholder.com/50x75/333/fff?text=?'"></td>
                        <td>${p.name}<br><small style="color: #aaa;">${p.year || ''}</small></td>
                        <td style="color: #aaa;">${p.genre}</td>
                        <td>${getBadge(p.status)}</td>
                        <td style="color: #aaa; font-size: 12px;">${p.date}</td>
                    </tr>
                `;
            });
            tbody.innerHTML = html;
        }

        // ADMIN
        function doLogin() {
            if (document.getElementById('adm-pass').value === 'admin123') {
                logado = true;
                document.getElementById('adm-login').style.display = 'none';
                document.getElementById('adm-panel').style.display = 'block';
                mostrarAdmin();
            } else {
                document.getElementById('adm-error').style.display = 'block';
            }
        }

        function mostrarAdmin() {
            // Stats
            document.getElementById('a-total').textContent = pedidos.length;
            document.getElementById('a-pend').textContent = pedidos.filter(p => p.status === 'pending').length;
            document.getElementById('a-prog').textContent = pedidos.filter(p => p.status === 'watching').length;
            document.getElementById('a-done').textContent = pedidos.filter(p => p.status === 'completed').length;

            // Lista
            let lista = filtroAtual === 'all' ? pedidos : pedidos.filter(p => p.status === filtroAtual);
            let html = '';
            
            lista.forEach(p => {
                html += `
                    <div class="admin-card">
                        <img src="${p.poster}" onerror="this.src='https://via.placeholder.com/80x120/333/fff?text=?'">
                        <div style="flex: 1;">
                            <strong>${p.name}</strong><br>
                            <span style="color: #aaa; font-size: 12px;">${p.year || 'Sem ano'} ‚Ä¢ ${p.genre} ‚Ä¢ ${p.date}</span><br>
                            ${getBadge(p.status)}<br>
                            <div class="admin-actions">
                                <button class="status-btn pending" onclick="setStatus(${p.id}, 'pending')">Pendente</button>
                                <button class="status-btn watching" onclick="setStatus(${p.id}, 'watching')">Progresso</button>
                                <button class="status-btn completed" onclick="setStatus(${p.id}, 'completed')">Completo</button>
                                <button class="status-btn rejected" onclick="setStatus(${p.id}, 'rejected')">Rejeitado</button>
                                <button class="status-btn delete-btn" onclick="del(${p.id})">üóëÔ∏è Excluir</button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            document.getElementById('adm-list').innerHTML = html || '<p style="color: #666; text-align: center; padding: 40px;">Nenhum pedido</p>';
        }

        function filter(tipo) {
            filtroAtual = tipo;
            mostrarAdmin();
        }

        function setStatus(id, status) {
            let p = pedidos.find(x => x.id === id);
            if (p) {
                p.status = status;
                salvar();
                atualizar();
                mostrarAdmin();
                mostrarToast('Status atualizado!');
            }
        }

        function del(id) {
            if (confirm('Excluir este pedido?')) {
                pedidos = pedidos.filter(x => x.id !== id);
                salvar();
                atualizar();
                mostrarAdmin();
                mostrarToast('Exclu√≠do!');
            }
        }

        // HELPERS
        function getBadge(s) {
            let badges = {
                pending: '<span class="badge pending">‚è≥ Pendente</span>',
                watching: '<span class="badge watching">‚ñ∂Ô∏è Em An√°lise</span>',
                completed: '<span class="badge completed">‚úÖ Dispon√≠vel</span>',
                rejected: '<span class="badge rejected">‚ùå Indispon√≠vel</span>'
  
